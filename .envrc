export GO_CURRENT_PROJECT=otr3
export GO_CURRENT_PACKAGE=github.com/twstrike
export GLOBAL_GOPATH=$HOME/.gopath
export LOCAL_GOPATH=$HOME/.gopkgs/$GO_CURRENT_PROJECT
export GOPATH=$LOCAL_GOPATH:$GLOBAL_GOPATH

PATH_add $LOCAL_GOPATH/bin
mkdir -p $LOCAL_GOPATH
mkdir -p $LOCAL_GOPATH/src
mkdir -p $LOCAL_GOPATH/pkg
mkdir -p $LOCAL_GOPATH/bin
mkdir -p $LOCAL_GOPATH/src/$GO_CURRENT_PACKAGE

CURRENT_DIR=`expand_path .`

if [ ! -e $LOCAL_GOPATH/src/$GO_CURRENT_PACKAGE/$GO_CURRENT_PROJECT ]; then
   ln -s $CURRENT_DIR $LOCAL_GOPATH/src/$GO_CURRENT_PACKAGE/$GO_CURRENT_PROJECT
fi
